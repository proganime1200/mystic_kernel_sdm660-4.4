#!/usr/bin/env bash
# Copyright (C) 2020-2021 Oktapra Amtono
# Build Script

# Colors
red="\033[1;31m"
yellow="\033[1;33m"


# Main script
while true; do
    # Logo
    echo -e "$red"
    echo -e " ╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗";
    echo -e " ║ ╔═══════════════════════════════════════════════════════════════════════════════════════════════════╗ ║";
    echo -e " ║ ║ ██████          ██████ ████████  ████████ ██████████████ ██████████████ ██████████ ██████████████ ║ ║";
    echo -e " ║ ║ ██▒▒██████████████▒▒██ ██▒▒▒▒██  ██▒▒▒▒██ ██▒▒▒▒▒▒▒▒▒▒██ ██▒▒▒▒▒▒▒▒▒▒██ ██▒▒▒▒▒▒██ ██▒▒▒▒▒▒▒▒▒▒██ ║ ║";
    echo -e " ║ ║ ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒██ ████▒▒██  ██▒▒████ ██▒▒██████████ ██████▒▒██████ ████▒▒████ ██▒▒██████████ ║ ║";
    echo -e " ║ ║ ██▒▒██████▒▒██████▒▒██   ██▒▒▒▒██▒▒▒▒██   ██▒▒██             ██▒▒██       ██▒▒██   ██▒▒██         ║ ║";
    echo -e " ║ ║ ██▒▒██  ██▒▒██  ██▒▒██   ████▒▒▒▒▒▒████   ██▒▒██████████     ██▒▒██       ██▒▒██   ██▒▒██         ║ ║";
    echo -e " ║ ║ ██▒▒██  ██▒▒██  ██▒▒██     ████▒▒████     ██▒▒▒▒▒▒▒▒▒▒██     ██▒▒██       ██▒▒██   ██▒▒██         ║ ║";
    echo -e " ║ ║ ██▒▒██  ██████  ██▒▒██       ██▒▒██       ██████████▒▒██     ██▒▒██       ██▒▒██   ██▒▒██         ║ ║";
    echo -e " ║ ║ ██▒▒██          ██▒▒██       ██▒▒██               ██▒▒██     ██▒▒██       ██▒▒██   ██▒▒██         ║ ║";
    echo -e " ║ ║ ██▒▒██          ██▒▒██       ██▒▒██       ██████████▒▒██     ██▒▒██     ████▒▒████ ██▒▒██████████ ║ ║";
    echo -e " ║ ║ ██▒▒██          ██▒▒██       ██▒▒██       ██▒▒▒▒▒▒▒▒▒▒██     ██▒▒██     ██▒▒▒▒▒▒██ ██▒▒▒▒▒▒▒▒▒▒██ ║ ║";
    echo -e " ║ ║ ██████          ██████       ██████       ██████████████     ██████     ██████████ ██████████████ ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ╔╗╔═╗╔═══╗╔═══╗╔═╗ ╔╗╔═══╗╔╗ ─────────────────────────────────── ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ║║║╔╝║╔══╝║╔═╗║║║╚╗║║║╔══╝║║ ─────────────────────────────────── ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ║╚╝╝ ║╚══╗║╚═╝║║╔╗╚╝║║╚══╗║║ ─────────────────────────────────── ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ║╔╗║ ║╔══╝║╔╗╔╝║║╚╗║║║╔══╝║║ ╔╗ ──────────────────────────────── ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ║║║╚╗║╚══╗║║║╚╗║║ ║║║║╚══╗║╚═╝║ ──────────────────────────────── ║ ║";
    echo -e " ║ ║ ──────────────────────────────── ╚╝╚═╝╚═══╝╚╝╚═╝╚╝ ╚═╝╚═══╝╚═══╝ by: @okta_10 ─────────────────── ║ ║";
    echo -e " ║ ╚═══════════════════════════════════════════════════════════════════════════════════════════════════╝ ║";
    echo -e " ╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝";
    echo -e ""
    echo -e "$yellow"
    echo -e " Menu                                                               "
    echo -e " ╔═════════════════════════════════════════════════════════════════╗"
    echo -e " ║ 1. Build For Redmi Note 5 Pro/AI (whyred)                       ║"
    echo -e " ║ 2. Build For Redmi Note 6 Pro (tulip)                           ║"
    echo -e " ║ 3. Build For Redmi Note 7 (lavender)                            ║"
    echo -e " ║ 4. Build For Mi A2/6X (jasmine/wayne)                           ║"
    echo -e " ║ 5. Clean Out Dir                                                ║"
    echo -e " ║ e. Exit                                                         ║"
    echo -e " ╚═════════════════════════════════════════════════════════════════╝"
    echo -ne "\n Enter your choice 1-5, or press 'e' For Exit : "

    read -r menu

    # Whyred
    if [ "$menu" == "1" ]; then
        ./whyred.sh
    fi

    # Tulip
    if [ "$menu" == "2" ]; then
        ./tulip.sh
    fi

    # Tulip
    if [ "$menu" == "3" ]; then
        ./lavender.sh
    fi

    # A26X (Jasmine/Wayne)
    if [ "$menu" == "4" ]; then
        ./a26x.sh
    fi

    # Clean Out Dir
    if [ "$menu" == "6" ]; then
        make O=out clean
        make mrproper
        rm -rf out

        echo -e "\n (i) Kernel source cleaned up."
    fi

    # Exit
    if [ "$menu" == "e" ]; then
        exit 
    fi

done